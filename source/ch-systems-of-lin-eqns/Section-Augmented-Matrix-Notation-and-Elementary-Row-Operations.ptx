<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="Section-Augmented-Matrix-Notation-and-Elementary-Row-Operations" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Augmented Matrix Notation and Elementary Row Operations</title>

    <subsection xml:id="Subsection-Augmented-Matrix-Notation">
        <title>Augmented Matrix Notation</title>

        <p>
            Recall that the following three operations performed on a linear system are called <term>elementary row operations</term>
            <ul>
            <li>
                <p>
                    Switching the order of two equations
                </p>
            </li> 
            <li>
                <p>
                    Multiplying both sides of an equation by the same non-zero constant
                </p>
            </li> 
            <li>
                <p>
                    Adding a multiple of one equation to another
                </p>
            </li> 
            </ul>
            </p>
            
            <p>
            In <url href="https://ximera.osu.edu/oerlinalg/LinearAlgebra/SYS-0010/main">Introduction to Systems of Linear Equations</url> we discussed why applying elementary row operations to a linear system results in an equivalent system - a linear system with the same solution set.
            </p>
            
            <p>
            In this section we seek an efficient method for recording our computations as we perform elementary row operations. 
            </p>

            <exploration xml:id="init-augmentedmatrixex">
                <statement>
                    <p>
                        The linear system in this Exploration comes from Jim Hefferon's <url href="http://joshua.smcvt.edu/linearalgebra/#current_version">Linear Algebra</url>.
                    </p>
                <p>
            Consider the linear system
            <men xml:id="eq-sys20originalsystem1">
            \begin{array}{ccccccccc}
                  x \amp - \amp y\amp \amp \amp \amp \amp = \amp 0 \\
                 2x\amp  -\amp 2y\amp +\amp z\amp +\amp 2w\amp =\amp 4\\
                 \amp  \amp y\amp \amp \amp +\amp w\amp =\amp 0\\
                 \amp  \amp \amp \amp 2z\amp +\amp w\amp =\amp 5
                \end{array}
                </men>
            Our goal is to use elementary row operations to transform this system into an equivalent system of the form
            <me>\begin{array}{ccccccccc}
                  x \amp  \amp \amp \amp \amp \amp \amp = \amp a \\
                 \amp  \amp y\amp \amp \amp \amp \amp =\amp b\\
                 \amp  \amp \amp \amp z\amp \amp \amp =\amp c\\
                 \amp  \amp \amp \amp \amp \amp w\amp =\amp d
                \end{array}
                </me>
             We have to keep in mind that given an arbitrary system, an equivalent system of this form may not exist (we will talk a lot more about this later).  However, it does exist in this case, and we would like to find a more efficient way of getting to it than having to write and rewrite our equations at each step.   
            </p>
            </statement>
            <answer>
                <p>
                    We start by subtracting twice row 1 from row 2. (<m>R_2-2R_1\rightarrow R_2</m>)
            
            <me>
                \begin{matrix}
                  x \amp - \amp y\amp +\amp 0z\amp +\amp 0w\amp = \amp 0 \\
                 0x\amp  +\amp 0y\amp +\amp  1z\amp +\amp  2w\amp =\amp  4\\
                 0x\amp  +\amp y\amp +\amp 0z\amp +\amp w\amp =\amp 0\\
                 0x\amp +\amp 0y\amp +\amp 2z\amp +\amp w\amp =\amp 5
                \end{matrix}
            </me>
            
            Next, we add row 3 to row 1. (<m>R_1+R_3\rightarrow R_1</m>)  
             
            <me>
                \begin{matrix}
                  x \amp + \amp   0 y\amp +\amp  0 z\amp +\amp   1 w\amp = \amp   0 \\
                 0x\amp  +\amp 0y\amp +\amp z\amp +\amp 2w\amp =\amp 4\\
                 0x\amp  +\amp y\amp +\amp 0z\amp +\amp w\amp =\amp 0\\
                 0x\amp +\amp 0y\amp +\amp 2z\amp +\amp w\amp =\amp 5
                \end{matrix}
            </me>
            
            Subtract twice row 2 from row 4. (<m>R_4-2R_2\rightarrow R_4</m>)
            
            <me>
                \begin{matrix}
                  x \amp + \amp 0y\amp +\amp 0z\amp +\amp 1w\amp = \amp 0 \\
                 0x\amp  +\amp 0y\amp +\amp z\amp +\amp 2w\amp =\amp 4\\
                 0x\amp  +\amp y\amp +\amp 0z\amp +\amp w\amp =\amp 0\\
                  0x\amp +\amp  0y\amp +\amp   0z\amp +\amp   -3w\amp =\amp  -3
                \end{matrix}
            </me>
            
            Divide row 4 by <m>-3</m>. (<m>-\frac{1}{3}R_4</m>)
            
            <me>
                \begin{matrix}
                  x \amp + \amp 0y\amp +\amp 0z\amp +\amp 1w\amp = \amp 0 \\
                 0x\amp  +\amp 0y\amp +\amp z\amp +\amp 2w\amp =\amp 4\\
                 0x\amp  +\amp y\amp +\amp 0z\amp +\amp w\amp =\amp 0\\
                  0x\amp +\amp  0y\amp +\amp  0z\amp +\amp   1w\amp =\amp  1
                \end{matrix}
            </me>
            
            We will do three operations in one step.
            
            <me>
                R_1-R_4\rightarrow R_1
            </me>
            
            
            <me>
                R_2-2R_4\rightarrow R_2
            </me>
            
            
            <me>
                R_3-R_4\rightarrow R_3
            </me>
            
            
            <me>
                \begin{matrix}
                  x \amp + \amp  0y\amp +\amp  0z\amp +\amp   0w\amp = \amp   -1 \\
                  0x\amp  +\amp  0y\amp +\amp  1z\amp +\amp   0w\amp =\amp   2\\
                  0x\amp  +\amp  1y\amp +\amp  0z\amp +\amp   0w\amp =\amp  -1\\
                 0x\amp +\amp 0y\amp +\amp 0z\amp +\amp 1w\amp =\amp 1
                \end{matrix}
            </me>
            
            We now exchange rows 2 and 3. (<m>R_2\leftrightarrow R_3</m>)
            <men xml:id="eq-sys20rref1">
            \begin{array}{ccccccccc}
                  x \amp + \amp 0y\amp +\amp 0z\amp +\amp 0w\amp = \amp -1 \\
               0x\amp  +\amp y\amp +\amp 0z\amp +\amp 0w\amp =\amp -1\\
               0x\amp  +\amp 0y\amp +\amp z\amp +\amp 0w\amp =\amp 2\\
                 0x\amp +\amp 0y\amp +\amp 0z\amp +\amp w\amp =\amp 1
                \end{array}
                </men>
                If we drop all of the zero terms, we have:
                <men xml:id="eq-sys20rrefnozeros">
                \begin{array}{ccccccccc}
                  x \amp  \amp \amp \amp \amp \amp \amp = \amp -1 \\
               \amp  \amp y\amp \amp \amp \amp \amp =\amp -1\\
               \amp  \amp \amp \amp z\amp \amp \amp =\amp 2\\
                 \amp \amp \amp \amp \amp \amp w\amp =\amp 1
                \end{array}
                </men>
            Now we see that <m>(-1, -1, 2, 1)</m> is the solution.
            </p>
            
            <p>
            Observe that throughout the entire process, variables <m>x</m>, <m>y</m>, <m>z</m> and <m>w</m> remained in place; only the coefficients in front of the variables and the entries on the right changed.  Let's try to recreate this process without writing down the variables.  We can capture the original system in (<xref ref="eq-sys20originalsystem1"/>) as follows:
            
            <me>
                \left[\begin{array}{cccc|c}  
             1\amp -1\amp 0\amp 0\amp 0\\2\amp -2\amp 1\amp 2\amp 4\\0\amp 1\amp 0\amp 1\amp 0\\0\amp 0\amp 2\amp 1\amp 5
             \end{array}\right]
            </me>
            
             
               The side to the left of the vertical bar is called the <term>coefficient matrix</term>, while the side to the right of the bar is a vector that consists of constants on the right side of the system.  The coefficient matrix, together with the vector, is called an <term>augmented matrix</term>.
            </p> 
            
            <p>
             We can capture all of the elementary row operations we performed earlier as follows:
            
            
            <me>
                \left[\begin{array}{cccc|c}  
             1\amp -1\amp 0\amp 0\amp 0\\2\amp -2\amp 1\amp 2\amp 4\\0\amp 1\amp 0\amp 1\amp 0\\0\amp 0\amp 2\amp 1\amp 5
             \end{array}\right]
             \begin{array}{c}
             \\
             \xrightarrow{R_2-2R_1}\\
            \\
            \\
             \end{array}
             \left[\begin{array}{cccc|c}  
             1\amp -1\amp 0\amp 0\amp 0\\0\amp 0\amp 1\amp 2\amp 4\\0\amp 1\amp 0\amp 1\amp 0\\0\amp 0\amp 2\amp 1\amp 5
             \end{array}\right]
             \begin{array}{c}
             \xrightarrow{R_1+R_3}\\
             \\
            \\
            \\
             \end{array}
            </me>
            
             
            <me>
                \left[\begin{array}{cccc|c}  
             1\amp 0\amp 0\amp 1\amp 0\\2\amp -2\amp 1\amp 2\amp 4\\0\amp 1\amp 0\amp 1\amp 0\\0\amp 0\amp 2\amp 1\amp 5
             \end{array}\right]
             \begin{array}{c}
             \\
             \\
            \\
            \xrightarrow{R_4-2R_2}\\
             \end{array}
             \left[\begin{array}{cccc|c}  
             1\amp 0\amp 0\amp 1\amp 0\\0\amp 0\amp 1\amp 2\amp 4\\0\amp 1\amp 0\amp 1\amp 0\\0\amp 0\amp 0\amp -3\amp -3
             \end{array}\right]
             \begin{array}{c}
             \\
             \\
            \\
            \xrightarrow{(-1/3)R_4}\\
             \end{array}
            </me>
            
             
            <me>
                \left[\begin{array}{cccc|c}  
             1\amp 0\amp 0\amp 1\amp 0\\0\amp 0\amp 1\amp 2\amp 4\\0\amp 1\amp 0\amp 1\amp 0\\0\amp 0\amp 0\amp 1\amp 1
             \end{array}\right]
             \begin{array}{c}
             \xrightarrow{R_1-R_4}\\
             \xrightarrow{R_2-2R_4}\\
            \xrightarrow{R_3-R_4}\\
            \\
             \end{array}\left[\begin{array}{cccc|c}  
             1\amp 0\amp 0\amp 0\amp -1\\0\amp 0\amp 1\amp 0\amp 2\\0\amp 1\amp 0\amp 0\amp -1\\0\amp 0\amp 0\amp 1\amp 1
             \end{array}\right]\begin{array}{c}
             \\
             \xrightarrow{R_2\leftrightarrow R_3}\\
            \\
            \\
             \end{array}
            </me>
             <men xml:id="eq-sys20rref">
                \left[\begin{array}{cccc|c}  
             1\amp 0\amp 0\amp 0\amp -1\\0\amp 1\amp 0\amp 0\amp -1\\0\amp 0\amp 1\amp 0\amp 2\\0\amp 0\amp 0\amp 1\amp 1
             \end{array}\right]</men>
             
             The last augmented matrix corresponds to systems in (<xref ref="eq-sys20rref1"/>) and (<xref ref="eq-sys20rrefnozeros"/>), and we can easily see the solution.   
                </p>
                </answer>
            </exploration>
            
            <p>
            Exploration <xref ref="init-augmentedmatrixex"/> introduced us to some vocabulary terms.  Let's formalize our definitions.  Every linear system 
            <me>
                \begin{array}{ccccccccc}
                  a_{11}x_1 \amp + \amp a_{12}x_2\amp +\amp \ldots\amp +\amp a_{1n}x_n\amp = \amp b_1 \\
                 a_{21}x_1 \amp + \amp a_{22}x_2\amp +\amp \ldots\amp +\amp a_{2n}x_n\amp = \amp b_2 \\
                 \amp \amp \amp \amp \vdots\amp \amp \amp \amp  \\
                 a_{m1}x_1 \amp + \amp a_{m2}x_2\amp +\amp \ldots\amp +\amp a_{mn}x_n\amp = \amp b_m
                \end{array}
            </me>
                can be written in the <term>augmented matrix form</term> as follows:
            <me>
                \left[\begin{array}{cccc|c}  
             a_{11}\amp a_{12}\amp \ldots\amp a_{1n}\amp b_1\\a_{21}\amp a_{22}\amp \ldots\amp a_{2n}\amp b_2\\\vdots\amp \vdots\amp \ddots\amp \vdots\amp \vdots\\a_{m1}\amp a_{m2}\amp \ldots\amp a_{mn}\amp b_m
             \end{array}\right]
            </me>
             The array to the left of the vertical bar is called the <term>coefficient matrix</term> of the linear system and is often given a capital letter name, like <m>A</m>.  The vertical array to the right of the bar is called a <term>constant vector</term>.
            <me>
                A=\begin{bmatrix}a_{11}\amp a_{12}\amp \ldots\amp a_{1n}\\a_{21}\amp a_{22}\amp \ldots\amp a_{2n}\\\vdots\amp \vdots\amp \ddots\amp \vdots\\a_{m1}\amp a_{m2}\amp \ldots\amp a_{mn}\end{bmatrix}\quad\text{and}\quad\mathbf{b}=\begin{bmatrix}b_1\\b_2\\\vdots\\b_m\end{bmatrix}
            </me>
            We will sometimes use the following notation to represent an augmented matrix.
            <me>
                \left[\begin{array}{c|c}  
             A \amp  \mathbf{b}\\
             \end{array}\right]
            </me>
            The same elementary row operations that we perform on a system of equations can be performed on the corresponding augmented matrix, or any matrix for that matter.  If a matrix can be obtained from another matrix by means of elementary row operations, we say that the two matrices are <term>row-equivalent</term>.  
            </p>

            <exploration xml:id="init-backsub">
                <p>
                    Consider the system
            <me>
                \begin{array}{ccccccc}
                  x_1 \amp - \amp x_2\amp -\amp 3x_3\amp = \amp 1 \\
               4x_1\amp  -\amp 2x_2\amp -\amp 7x_3\amp =\amp 1\\
               -x_1\amp  +\amp x_2\amp +\amp 4x_3\amp =\amp 1
                \end{array}
            </me>
            Recall that in Exploration <xref ref="init-augmentedmatrixex"/> we converted the given system to an augmented matrix form, then performed elementary row operations until we arrived at a ``convenient" form.  We then converted the ``convenient" augmented matrix back to a system of equations and identified the solution.  The term ``convenient" is open to interpretation.  In this problem we will explore two ``convenient" forms.  Each one will lead to a definition.  
            <mdn>
                <mrow number="no"> 
                    \amp \left[\begin{array}{ccc|c}  
                    1\amp -1\amp -3\amp 1\\4\amp -2\amp -7\amp 1\\-1\amp 1\amp 4\amp 1
                    \end{array}\right]
                </mrow>
                <mrow number="yes" xml:id="eq-sys20rowechelon"> 
                    \begin{array}{c} \\
              \xrightarrow{R_2-4R_1}\\
            \xrightarrow{R_3+R_1}\\
             \end{array}
             \amp \left[\begin{array}{ccc|c}  
             1\amp -1\amp -3\amp 1\\0\amp 2\amp 5\amp -3\\0\amp 0\amp 1\amp 2
             \end{array}\right]
                </mrow>
                <mrow number="no">
                    \begin{array}{c}
             \\
             \xrightarrow{(1/2)R_2}\\
            \\
            \end{array}
            \amp \left[\begin{array}{ccc|c}  
             1\amp -1\amp -3\amp 1\\0\amp 1\amp 5/2\amp -3/2\\0\amp 0\amp 1\amp 2
             \end{array}\right] 
                </mrow>
                <mrow number="no"> 
                    \begin{array}{c}
             \xrightarrow{R_1+R_2}\\
             \\
            \\
            \end{array}\amp \left[\begin{array}{ccc|c}  
             1\amp 0\amp -1/2\amp -1/2\\0\amp 1\amp 5/2\amp -3/2\\0\amp 0\amp 1\amp 2
             \end{array}\right]
                </mrow>
                <mrow number="yes" xml:id="eq-sys20reducedrowechelon">
                    \begin{array}{c}
             \xrightarrow{R_1+ (1/2)R_3}\\
             \xrightarrow{R_2- (5/2)R_3}\\
            \\
            \end{array}
            \amp \left[\begin{array}{ccc|c}  
             1\amp 0\amp 0\amp 1/2\\0\amp 1\amp 0\amp -13/2\\0\amp 0\amp 1\amp 2
             \end{array}\right]
                </mrow> 
             </mdn>
            
            The augmented matrix in (<xref ref="eq-sys20reducedrowechelon"/>) has the same convenient form as the one in (<xref ref="eq-sys20rref"/>).  This augmented matrix corresponds to the system
            <me>
                \begin{array}{ccccccc}
                  x_1 \amp  \amp \amp \amp \amp = \amp 1/2 \\
               \amp  \amp x_2\amp \amp \amp =\amp -13/2\\
               \amp  \amp \amp \amp x_3\amp =\amp 2
                    \end{array}
                </me>
            This gives us the solution <m>(\frac{1}{2}, -\frac{13}{2}, 2)</m>.
            </p>
            
            <p>
            While the augmented matrix in (<xref ref="eq-sys20reducedrowechelon"/>) was certainly ``convenient", we could have converted back to the equation format a little earlier.  Let's take a look at the augmented matrix in (<xref ref="eq-sys20rowechelon"/>).  Converting (<xref ref="eq-sys20rowechelon"/>) to a system of equations gives us
            <me>
                \begin{array}{ccccccc}
                  x_1 \amp - \amp x_2\amp -\amp 3x_3\amp = \amp 1\\
               \amp  \amp 2x_2\amp +\amp 5x_3\amp =\amp -3\\
               \amp  \amp \amp \amp x_3\amp =\amp 2
                    \end{array}
                </me>
            Substituting <m>x_3=2</m> into the second equation and solving for <m>x_2</m> gives us 
            <me>
                x_2=\frac{-3-5(2)}{2}=-\frac{13}{2}
            </me>
              Now substituting <m>x_3=2</m> and <m>x_2=-\frac{13}{2}</m> into the first equation results in 
            <me>
                x_1=1+\left(-\frac{13}{2}\right)+3(2)=\frac{1}{2}
            </me>
              This process is called <term>back substitution</term> and it produces the same solution as we obtained earlier.
                </p>
            </exploration>
            
            <p>
            Observe that the coefficient matrices in (<xref ref="eq-sys20rref"/>) and (<xref ref="eq-sys20reducedrowechelon"/>) have the same format: 1's along the diagonal, zeros above and below the 1's.  The other ``convenient" format, exhibited by the coefficient matrix in (<xref ref="eq-sys20rowechelon"/>),  also has zeros below the diagonal, but not all of the diagonal entries are 1's and some of the entries above the diagonal are not zero.  Each of these formats gives rise to a definition.  These definitions are the topic of the next section.
            </p>
    </subsection>

    <subsection xml:id="Subsection-Row-Echelon-and-Reduced-Row-Echelon-Forms">
        <title>Row-Echelon and Reduced Row-Echelon Forms</title>

        <definition xml:id="def-leadentry">
            <statement>
                <p>
                    The first non-zero entry in a row of a matrix (when read from left to right) is called the <term>leading entry</term>.  When the leading entry is 1, we refer to it as a <term>leading 1</term>.
                </p>
            </statement>
        </definition>
        
        <definition xml:id="def-ref">
            <title>Row-Echelon Form</title>
            <statement>
                <p>
                    A matrix is said to be in <term>row-echelon form</term> if:
        <ol>
        <li>
            <p>
                All entries below each leading entry are 0.
            </p>
        </li> 
        <li>
            <p>
                Each leading entry is in a column to the right of the leading entries in the rows above it.
            </p>
        </li> 
        <li>
            <p>
                All rows of zeros, if there are any, are located below non-zero rows.
            </p>
        </li> 
        </ol>
                </p>
            </statement>
        </definition>
        
        <p>
        The term row-echelon form can be applied to matrices whether or not they are augmented matrices (matrices with the vertical bar). For example, both the coefficient matrix and the augmented matrix in (<xref ref="eq-sys20rowechelon"/>) are in row-echelon form.  Note that the leading entries form a staircase pattern. All entries below the leading entries are zero, but the entries above the leading entries are not all zero.
        </p>
        
        <p>
        Below are two more examples of matrices in row-echelon form.  The leading entries of each matrix are boxed.
        <me>
            \begin{bmatrix} 
         \fbox{1}\amp 2\amp -1\amp -5\amp 0\amp 2\\0\amp 0\amp \fbox{3}\amp 1\amp 2\amp 0\\0\amp 0\amp 0\amp 0\amp \fbox{1}\amp 0
         \end{bmatrix}\quad\text{and}\quad\begin{bmatrix}
         \fbox{4}\amp 2\\0\amp \fbox{1}\\0\amp 0
         \end{bmatrix}
        </me>
        </p>
         
         
        <p>
        The difference between the coefficient matrix in  (<xref ref="eq-sys20rowechelon"/>) and the coefficient matrix in (<xref ref="eq-sys20reducedrowechelon"/>) is that the leading entries of the  matrix in (<xref ref="eq-sys20reducedrowechelon"/>) are all 1's, and the matrix has zeros above each leading 1.  This motivates our next definition.
        </p>
        
        <definition xml:id="def-rref">
            <title>Reduced Row-Echelon Form</title>
            <statement>
                <p>
        A matrix that is already in <term>row-echelon</term> form is said to be in <term>reduced row-echelon form</term> if:
        <ol>
        <li>
            <p>
                Each leading entry is <m>1</m>
            </p>
        </li> 
        <li>
            <p>
                All entries <em>above</em> and below each leading <m>1</m> are <m>0</m>
            </p>
        </li> 
        </ol>
                </p>
            </statement>
        </definition>
        
        <p>
        The following two matrices are in <term>reduced row-echelon form</term>.  Note that there are <m>0</m>'s below and above each leading <m>1</m>.
        <me>
            \begin{bmatrix}  
         \fbox{1}\amp 0\amp -1\amp 0\amp 1\\0\amp \fbox{1}\amp 0\amp 0\amp 2\\0\amp 0\amp 0\amp \fbox{1}\amp 2
         \end{bmatrix}\quad\text{and}\quad\begin{bmatrix}
         \fbox{1}\amp 0\\0\amp \fbox{1}\\0\amp 0
         \end{bmatrix}
        </me>
         When solving linear systems using the augmented matrix notation, our goal will be to transform the augmented matrix <m>M=[A|\mathbf{b}]</m> into a row-echelon or reduced row-echelon form.  The reduced row-echelon form of <m>M</m> is denoted by 
        <m>\mbox{rref}(M)</m>.  As we transform the augmented matrix <m>M</m> to its reduced row-echelon form, the coefficient matrix <m>A</m> (the matrix to the left of the bar) also gets transformed to its reduced row-echelon form, <m>\mbox{rref}(A)</m>. 
        </p>

        <example xml:id="ex-freevar1">
            <statement>
            <p> 
                Solve the system of equations or determine that the system is inconsistent.
        <me>
            \begin{array}{ccccccccc}
              x \amp - \amp 2y\amp +\amp z\amp \amp \amp = \amp 2 \\
             -2x\amp  +\amp y\amp -\amp z\amp +\amp w\amp =\amp 0\\
             x\amp  +\amp 4y\amp \amp \amp +\amp w\amp =\amp 1 
            \end{array}
        </me>
        </p>
        </statement>
        <answer>
            <p>
        We begin by rewriting the system in the augmented matrix form.
        
        <me>
            \left[\begin{array}{cccc|c}  
         1\amp -2\amp 1\amp 0\amp 2\\-2\amp 1\amp -1\amp 1\amp 0\\1\amp 4\amp 0\amp 1\amp 1
         \end{array}\right]
        </me>
        
         Our goal is to convert this matrix to its reduced row-echelon form by means of elementary row operations.  To do this, we will proceed from left to right and use leading entries to wipe out all entries above and below them.
         
         
        <me>
            \left[\begin{array}{cccc|c}  
         1\amp -2\amp 1\amp 0\amp 2\\-2\amp 1\amp -1\amp 1\amp 0\\1\amp 4\amp 0\amp 1\amp 1
         \end{array}\right]
         \begin{array}{c}
         \\
         \xrightarrow{R_2+2R_1}\\
        \xrightarrow{R_3-R_1}\\
         \end{array}\left[\begin{array}{cccc|c}  
         1\amp -2\amp 1\amp 0\amp 2\\0\amp -3\amp 1\amp 1\amp 4\\0\amp 6\amp -1\amp 1\amp -1
         \end{array}\right]\begin{array}{c}
         \\
         \\
        \xrightarrow{R_3+2R_2}\\
         \end{array}
        </me>
        
         
         
        <me>
            \left[\begin{array}{cccc|c}  
         1\amp -2\amp 1\amp 0\amp 2\\0\amp -3\amp 1\amp 1\amp 4\\0\amp 0\amp 1\amp 3\amp 7
         \end{array}\right]
         \begin{array}{c}
         \\
         \xrightarrow{(-1/3)R_2}\\
        \\
         \end{array}\left[\begin{array}{cccc|c}  
         1\amp -2\amp 1\amp 0\amp 2\\0\amp 1\amp -1/3\amp -1/3\amp -4/3\\0\amp 0\amp 1\amp 3\amp 7
         \end{array}\right]\begin{array}{c}
         \xrightarrow{R_1+2R_2}\\
         \\
        \\
         \end{array}
        </me>
        
        <me>
            \left[\begin{array}{cccc|c}  
         1\amp 0\amp 1/3\amp -2/3\amp -2/3\\0\amp 1\amp -1/3\amp -1/3\amp -4/3\\0\amp 0\amp 1\amp 3\amp 7
         \end{array}\right]
         \begin{array}{c}
         \xrightarrow{R_1-(1/3)R_3}\\
         \xrightarrow{R_2+(1/3)R_3}\\
        \\
         \end{array}\left[\begin{array}{cccc|c}  
         1\amp 0\amp 0\amp -5/3\amp -3\\0\amp 1\amp 0\amp 2/3\amp 1\\0\amp 0\amp 1\amp 3\amp 7
         \end{array}\right]
        </me>
        
         Our final matrix may not be quite as nice as the one in (<xref ref="eq-sys20reducedrowechelon"/>), but it is in reduced row-echelon form.  Our next step is to convert our augmented matrix back to a system of equations.  We have:
         
        <me>
            \begin{array}{ccccccccc}
              x \amp  \amp \amp \amp \amp -\amp (5/3)w\amp = \amp -3 \\
             \amp  \amp y\amp \amp \amp +\amp (2/3)w\amp =\amp 1\\
             \amp  \amp \amp \amp z\amp +\amp 3w\amp =\amp 7 
            \end{array}
        </me>
        
         We will rewrite the system as follows:
         
        <me>
            \begin{array}{ccccccccc}
              x \amp  \amp \amp \amp \amp \amp \amp = \amp -3+(5/3)w \\
             \amp  \amp y\amp \amp \amp \amp \amp =\amp 1-(2/3)w\\
             \amp  \amp \amp \amp z\amp \amp \amp =\amp 7-3w 
            \end{array}
        </me>
         Now we see that we can assign any value to <m>w</m>, then compute <m>x</m>, <m>y</m> and <m>z</m> to obtain a solution to the system.  For example, let <m>w=0</m>, then <m>x=-3</m>, <m>y=1</m> and <m>z=7</m>, so <m>(-3, 1, 7, 0)</m> is a solution.  If we let <m>w=3</m>, then <m>x=2</m>, <m>y=-1</m> and <m>z=-2</m>, so <m>(2, -1, -2, 3)</m> is also a solution.   To capture all possibilities, we will let <m>w=t</m>, where <m>t</m> is an arbitrary <term>parameter</term>.   
        </p>
        
        <p>
          We can think of the solution set in two different ways.  First, the solution set is the set of all points of the form
        <me>
            \left(-3+\frac{5}{3}t, 1-\frac{2}{3}t, 7-3t, t\right)
        </me>
         
         We can also think of the solution set in geometric terms by observing that 
         <md>
            <mrow> x\amp =-3+\frac{5}{3}t </mrow>
            <mrow> y\amp =1-\frac{2}{3}t </mrow>
            <mrow> z\amp =7-3t </mrow>
            <mrow> w\amp =t </mrow>
         </md>
         is a set of parametric equations that describes a line in <m>\R^4</m>.  (See Formula <xref ref="form-paramlinend"/>)  This means that the three hyperplanes given by the equations in the system intersect in a line, producing infinitely many solutions to the system.
            </p>
            </answer>
        </example>
        
        <p>
        Observe that in Example <xref ref="ex-freevar1"/>, variables <m>x</m>, <m>y</m> and <m>z</m> correspond to the leading <m>1's</m> in the reduced row-echelon.  We say that <m>x</m>, <m>y</m> and <m>z</m> are the <term>leading variables</term>.  Variable <m>w</m> is not a leading variable; we refer to it as a <term>free variable</term> and assign a <term>parameter</term> <m>t</m> to it.
        </p>
        
        <example xml:id="ex-nosolutionssys">
            <statement>
            <p>
        Solve the system of equations or determine that the system is inconsistent.
        
        <me>
            \begin{array}{ccccccc}
              2x \amp  -\amp y\amp \amp \amp = \amp 2 \\
             x\amp  +\amp y\amp -\amp 2z\amp =\amp 0\\
             -3x\amp  \amp \amp +\amp 2z\amp =\amp -1
            \end{array}
        </me>
        </p>
        </statement>
            <answer>
                <p>
                We rewrite the system in augmented matrix form and transform it to reduced row-echelon form.  We leave the details of the elementary row operations to the reader and state the final result.
            
           <men xml:id="eq-sys20nosolutionsys"> \left[\begin{array}{ccc|c}  
         2\amp -1\amp 0\amp 2\\1\amp 1\amp -2\amp 0\\-3\amp 0\amp 2\amp -1
         \end{array}\right]\begin{array}{c}
         \\
         \rightsquigarrow\\
         \\
         \end{array}\left[\begin{array}{ccc|c}  
         1\amp 0\amp -2/3\amp 0\\0\amp 1\amp -4/3\amp 0\\0\amp 0\amp 0\amp 1
         \end{array}\right]</men>
            
         Converting back to a system of linear equations, we get
         
         <men xml:id="eq-sys20nosolutions">\begin{array}{ccccccc}
              0x \amp + \amp 0y\amp -\amp (2/3)z\amp = \amp 0 \\
             0x\amp + \amp 0y\amp -\amp (4/3)z\amp =\amp 0\\
             0x\amp + \amp 0y\amp +\amp 0z\amp =\amp 1
            \end{array}</men>
            The last equation in this system clearly has no solutions.  We conclude that this system (and the original system) is inconsistent.  
            </p>
            </answer>
        </example>
        
        <observation xml:id="ob-inconsistent">
            <p>
                Note that the last row of the reduced row-echelon form in (<xref ref="eq-sys20nosolutionsys"/>) looks like this
        <me>
            \left[\begin{array}{ccc|c}  
         0\amp 0\amp 0\amp 1
         \end{array}\right]
        </me>
        
         This row corresponds to the equation
         
        <me>
            \begin{array}{ccccccc}
             0x\amp + \amp 0y\amp +\amp 0z\amp =\amp 1
            \end{array}
        </me>
        
         which clearly has no solutions.  
            </p>
            <p>
                In general, if the reduced row-echelon form of the augmented matrix contains a row
         
        <me>
            \left[\begin{array}{ccc|c}  
         0\amp \ldots\amp 0\amp 1
         \end{array}\right]
        </me>
        
         we can conclude that the system is inconsistent.
            </p>
        </observation>
        
        <example xml:id="ex-rrefinfmanysolutionssys">
            <statement>
            <p>
            Solve the system of equations or determine that the system is inconsistent.
        <me>
            \begin{array}{ccccccc}
              x \amp  -\amp 3y\amp -\amp z\amp = \amp 3 \\
             -3x\amp  +\amp 5y\amp \amp \amp =\amp -2\\
             x\amp + \amp y\amp +\amp 2z\amp =\amp -4
            \end{array}
        </me>
        </p>
        </statement>
        <answer>
        <p>
            We rewrite the system in the augmented matrix form and transform it to reduced row-echelon form.  We leave the details of the elementary row operations to the reader and state the final result.   
        <me>
             \left[\begin{array}{ccc|c}  
         1\amp -3\amp -1\amp 3\\-3\amp 5\amp 0\amp -2\\1\amp 1\amp 2\amp -4
         \end{array}\right]\begin{array}{c}
         \\
         \rightsquigarrow\\
         \\
         \end{array}\left[\begin{array}{ccc|c}  
         1\amp 0\amp 5/4\amp -9/4\\0\amp 1\amp 3/4\amp -7/4\\0\amp 0\amp 0\amp 0
         \end{array}\right]
        </me>
        
         Converting the augmented matrix back to a system of equations we get
         
        <me>
            \begin{array}{ccccccc}
              x \amp + \amp 0y\amp +\amp (5/4)z\amp = \amp -9/4 \\
             0x\amp  +\amp y\amp +\amp (3/4)z\amp =\amp -7/4\\
             0x\amp + \amp 0y\amp +\amp 0z\amp =\amp 0
            \end{array}
        </me>
        
         Unlike the last equation in (<xref ref="eq-sys20nosolutions"/>), the last equation in this system has infinitely many solutions because all values of <m>x</m>, <m>y</m> and <m>z</m> satisfy it.  Since the last equation contributes nothing, we will remove it and rewrite the system as
         
        <me>
            \begin{array}{ccccc}
              x \amp  \amp \amp = \amp -9/4-(5/4)z \\
             \amp  \amp y\amp =\amp -7/4-(3/4)z\\
            \end{array}
        </me>
        
        Variables <m>x</m> and <m>y</m> correspond to leading <m>1's</m> in the reduced row-echelon form.  So, <m>x</m> and <m>y</m> are the leading variables.    Variable <m>z</m> is a free variable.  We let <m>z=t</m>.  Solutions to this system are points of the form
          
        <me>
            \left(-\frac{9}{4}-\frac{5}{4}t, -\frac{7}{4}-\frac{3}{4}t, t\right)
        </me>
        
          We can also interpret the solutions as lying on a line in <m>\R^3</m> given by parametric equations
          <md>
            <mrow> x\amp =-\frac{9}{4}-\frac{5}{4}t </mrow>
            <mrow> y\amp =-\frac{7}{4}-\frac{3}{4}t </mrow>
            <mrow> z\amp =t </mrow>
          </md>
          
          This line is the line of intersection of the three planes.
             </p>
             </answer>
        </example>
    </subsection>

    <subsection xml:id="Subsection-Practice-Problems">
        <title>Practice Problems</title>
        <exercises>
            <exercisegroup>
            
                <introduction>
                    <p>
                        Determine whether each augmented matrix shown below is in reduced row-echelon form.
                    </p>
                </introduction>
            
                <exercise xml:id="prob-rrefmultchoice1">
                    <statement>
                       <p>
                        <me>
                            \left[\begin{array}{cccc|c}  
                         0\amp 1\amp 1\amp 0\amp 2\\1\amp -3\amp 0\amp 1\amp 4\\0\amp 0\amp 1\amp 0\amp -1
                         \end{array}\right]
                        </me>
                       </p>
                  </statement>
                  <choices>
                    <choice>
                        <statement>
                            <p>
                                Yes
                            </p>
                        </statement>
                    </choice>
                    <choice correct="yes">
                        <statement>
                            <p>
                                No
                            </p>
                        </statement>
                    </choice>
                  </choices>
                </exercise>
                  
                   <exercise xml:id="prob-rrefmultchoice2">
                    <statement>
                       <p>
                        <me>
                            \left[\begin{array}{cc|c}  
                         1\amp 1\amp 1\\0\amp 1\amp 0\\0\amp 0\amp 0
                         \end{array}\right]
                        </me>
                       </p>
                  </statement>
                  <choices>
                    <choice>
                        <statement>
                            <p>
                                Yes
                            </p>
                        </statement>
                    </choice>
                    <choice>
                        <statement correct="yes">
                            <p>
                                No
                            </p>
                        </statement>
                    </choice>
                  </choices>
                </exercise>
                  
                  <exercise xml:id="prob-rrefmultchoice3">
                    <statement>
                       <p>
                        <me>
                            \left[\begin{array}{cc|c}  
                         1\amp 0\amp 1\\0\amp 1\amp 0\\0\amp 0\amp 0
                         \end{array}\right]
                        </me>
                       </p>
                  </statement>
                  <choices>
                    <choice correct="yes">
                        <statement>
                            <p>
                                Yes
                            </p>
                        </statement>
                    </choice>
                    <choice>
                        <statement>
                            <p>
                                No
                            </p>
                        </statement>
                    </choice>
                  </choices>
                </exercise>
                  
                  <exercise xml:id="prob-rrefmultchoice4">
                    <statement>
                       <p>
                        <me>
                            \left[\begin{array}{ccc|c}  
                         1\amp 0\amp 1\amp 0\\0\amp 1\amp 0\amp 0\\0\amp 0\amp 0\amp 1
                         \end{array}\right]
                        </me>
                       </p>
                  </statement>
                  <choices>
                    <choice correct="yes">
                        <statement>
                            <p>
                                Yes
                            </p>
                        </statement>
                    </choice>
                    <choice>
                        <statement>
                            <p>
                                No
                            </p>
                        </statement>
                    </choice>
                  </choices>
                </exercise>
                  
                   <exercise xml:id="prob-rrefmultchoice5">
                    <statement>
                       <p>
                        <me>
                            \left[\begin{array}{ccc|c}  
                         1\amp 1\amp 0\amp 2\\0\amp 1\amp 0\amp 9\\0\amp 0\amp 1\amp -1
                         \end{array}\right]
                        </me>
                       </p>
                  </statement>
                  <choices>
                    <choice>
                        <statement>
                            <p>
                                Yes
                            </p>
                        </statement>
                    </choice>
                    <choice correct="yes">
                        <statement>
                            <p>
                                No
                            </p>
                        </statement>
                    </choice>
                  </choices>
                </exercise>
            </exercisegroup>

            <exercise xml:id="prob-rrefnosolutionssys">
                <statement>
                   <p>
                    Fill in the steps that lead to the reduced row-echelon form in Example <xref ref="ex-nosolutionssys"/>.
                   </p>
              </statement>
            </exercise>
            
            <exercise xml:id="prob-rreffinfmanysolutionsys">
                <statement>
                   <p>
                    Fill in the steps that lead to the reduced row-echelon form in Example <xref ref="ex-rrefinfmanysolutionssys"/>.
                   </p>
              </statement>
            </exercise>
            
            <exercise xml:id="prob-numberofsolutionsmultch">
                <statement>
                   <p>
                    Suppose a system of equations has the following reduced row-echelon form  
                    <me>
                        \left[\begin{array}{ccc|c}  
                    1\amp 0\amp 0\amp 4\\0\amp 1\amp -3\amp -6\\0\amp 0\amp 0\amp 1
                    \end{array}\right]
                    </me>
            
                    What can you say about the system?
                   </p>
              </statement>
              <choices>
                <choice correct="yes">
                    <statement>
                        <p>
                            The system is inconsistent 
                        </p>
                    </statement>
                </choice>
                <choice>
                    <statement>
                        <p>
                            The system has infinitely many solutions
                        </p>
                    </statement>
                </choice>
                <choice>
                    <statement>
                        <p>
                            The system has a unique solution
                        </p>
                    </statement>
                </choice>
                <choice>
                    <statement>
                        <p>
                            We would have to examine the original system to make the final determination
                        </p>
                    </statement>
                </choice>
              </choices>
            </exercise>

            <exercisegroup>
            
                <introduction>
                    <p>
                        Solve each system of equations.
                    </p>
                </introduction>
            
                <exercise xml:id="prob-sys20solvesys1">
                    <statement>
                       <p>
                        <me>
                            \begin{array}{ccccccc}
                              x \amp  +\amp 3y\amp -\amp 2z\amp = \amp -11 \\
                             2x\amp  +\amp y\amp +\amp 4z\amp =\amp 12\\
                             x\amp  -\amp y\amp -\amp z\amp =\amp 0
                            \end{array}
                        </me>
                       </p>
                  </statement>
                    <answer>
                      <p>
                        <me>
                            ( 1, -2, 3)
                        </me>
                       </p>
                    </answer>
                </exercise>
                
                <exercise xml:id="prob-sys20solvesys2">
                    <statement>
                       <p>
                        <me>
                            \begin{array}{ccccccc}
                              3x \amp  -\amp y\amp +\amp z\amp = \amp -5 \\
                             x\amp  +\amp 2y\amp -\amp z\amp =\amp -3\\
                             x\amp  -\amp 5y\amp +\amp 3z\amp =\amp 1
                            \end{array}
                        </me>
                       </p>
                  </statement>
                    <answer>
                      <p>
                        <me>
                            \left( -13/7- 1/7t, -4/7 + 4/7t, t \right)
                        </me>
                       </p>
                    </answer>
                </exercise>
            </exercisegroup>
        </exercises>
    </subsection>
</section>